<!DOCTYPE html>
<html>
  <head>
    <title>BookOpinions</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body class="container m-0 p-0">
      <div class="row m-0 p-0">
        <div class="col-2 bg-dark text-secondary p-0">
          <%= image_tag current_user.avatar.variant(combine_options: {resize: '40x40^', extent: '40x40', gravity: 'Center'}), class: 'avatar m-2 rounded' if (current_user && current_user.avatar.attachment) %>
          <small class="current_user"><%= session_nav %></small>
          <div class="row m-0">
              <div class="col text-center">
                <span class="text-secondary"><strong><%= following_by(current_user) %></strong></span>
                <small class="text-secondary">Following</small>
              </div>
              <div class="col text-center">
                <span class="text-secondary"><strong><%= followees_of(current_user) %></strong></span>
                <small class="text-secondary">Followers</small>
              </div>
          </div>
          <div class="row m-0 text-secondary">
            <div class='col flex-column p-0'>
              <div class="bg-primary p-2 d-flex align-self-center"><i class="material-icons text-light p-1" >home</i><%= link_to 'Home', root_path, class: 'text-light' %></div>
              <div class="p-2"><i class="material-icons text-light">person</i><%= link_to 'Profile', user_path(current_user), class: 'text-light' unless current_user.nil? %></div>
              <div class="p-2"><%= link_to 'Log out', signout_path, class: 'text-light', method: :delete, data: {confirm: 'Are you sure ?'} %></div>
            </div>
          </div>
        </div>
        <div class="col-10 p-0">
          <div class="row">
            <header class="col">
                <%= render 'layouts/header' %>
              </header>
          </div>
          <main class="container">
            <%= yield %>

          </main>

        </div>
      </div>
  </body>
</html>
